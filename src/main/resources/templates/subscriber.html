<!DOCTYPE html>
<html lang="en" dir="ltr" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        Subscriber
    </title>
    <link rel="stylesheet" type="text/css" th:href="@{/CSS/subscriber.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/CSS/broadcast.css}">
    <script type="text/javascript" th:src="@{/javascript/navigationbar.js}">

    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
</head>

<body>
<header th:replace="~{/fragments/navbar.html}"></header>
    <div class="upper-part">

        <select id="subscriber_type" class="button">
            <option value="all-subscriber">
                All Subscriber
            </option>
            <option value="totalemail">
                Email
            </option>
        </select>
        <form class="search" action="">
            <input type="text" placeholder="Search.." name="search">
            <button type="submit">
                Search
                </i>
            </button>
        </form>
    </div>
    <div class="lower-part">
       
        <form action="" method="post" class="form-table subscriber-form">
            <h1>
                All Subscribers
            </h1>
              <table class="table comments">
                  <thead>
                      <tr class="table-row">
                          <th class="table-head">
                              <label
                                  for="select_all_checkboxes"
                                  class="visuallyhidden"
                                  >
                                  Select all checkboxes
                              </label
                              >
                              <input type="checkbox" id="select_all_checkboxes" />
                          </th>


                          <th class="table-head">
                              Name
                          </th>
                          <th class="table-head">
                              Email
                          </th>
                          <th class="table-head">
                              Action
                          </th>

                      </tr>
                  </thead>
  
                  <tbody>
                      <tr class="table-row" th:each="subs:${subscribers}">
                          <td class="table-data">
                              <label for="ferranMessage" class="visuallyhidden">
                                  Select message
                              </label>
                              <input
                                  id="ferranMessage"
                                  type="checkbox"
                                  class="delete_checkbox"/>
                          </td>

                          <td class="table-data"  th:text="${subs.name}"></td>
                          <td class="table-data" th:text="${subs.email}"></td>
                          <td> <a class="table-head" th:href="@{~/dashboard/deletesub/}+${subs.id}"  >Delete</a></td>

                      </tr>

                  </tbody>
              </table>
              <input
                  id="multiple_deletion"
                  type="submit"
                  class="submit-input"
                  value="Delete"
              />
<!--             <a class="" th:href="@{~/dashboard/deletesub/}+${subscribers.id}" >Cancel</a>-->

        </form>

        <div class="side-part">
            <h3>Subscriber count: <span th:text="${subs}"></span></h3>
            <div class="mini">
                <div id="box">
                    <span id="button">Add Subscriber</span>
                    <form action="" id="form" th:method="post" th:action="@{/dashboard/savesubscriber}" th:object="${subscriber}">

                        <p><input type="text" placeholder="Name" th:field="*{name}"/></p>
                        <p><input type="email" placeholder="Email address"th:field="*{email}" /></p>
                        <p><input type="submit" class="button" value="Add" /></p>
                    </form>
                </div>
                <p style="margin-bottom: 5%;">
                    <input type="file" id="fileUpload" />
                    <input type="button" id="upload" value="Upload" onclick="Upload()" />
                </p>
                <button class="button">Manage preference</button>
            </div>

        </div>
    </div>
    <script th:src="@{/javascript/bulkaction.js}">

    </script>
</body>
<script>
    $("#button").click(function() {
        $("#box form").toggle("slow");
        return false;
    });
</script>

</html>